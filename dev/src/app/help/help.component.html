@let helpIsVisible = helpVisible();
@if (!helpIsVisible) {
  <button 
    mat-fab 
    style="background-color: brown; color: white;"
    class="show-hide-help hover:bg-blue-600 text-white shadow-md"
    (click)="toggleHelp()"
  >
    <mat-icon>question_mark</mat-icon>
  </button>
} @else {
    <div class="card flex justify-content-center">
        <p-sidebar [visible]="helpVisible()" [fullScreen]="true" (onHide)="helpVisible.set(false)" dismissible="false">
            <ng-template pTemplate="header">
                <div class="w-100 flex justify-center"></div>
                <span class="font-semibold text-xl">
                    DOC INVICTA MAP
                </span>
            </ng-template>
            <div>
                
                <div class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-lg">
                    <h1 class="text-2xl font-bold text-gray-700 mb-4">AJOUTER UN MARQUEUR</h1>
                    <p class="text-gray-700 mb-4">
                        Rien de plus simple, identifiez la zone sur la carte, cliquez et suivez les instructions pour créer votre marker.
                    </p>
                    <p class="text-gray-700 mb-4">
                        Dans le <span class="font-semibold">Label</span>, vous pouvez ajouter des précisions, notamment si la ressource se trouve en hauteur par exemple.
                    </p>
                    <p class="text-gray-700 mb-4">
                        Ensuite, sélectionnez dans les menus déroulants la <span class="font-semibold">Ressource</span> et la <span class="font-semibold">Rareté</span> que vous avez trouvées.
                    </p>
                    <p class="text-gray-700 mb-4">
                        Concernant la <span class="font-semibold">Durée</span>, en attendant d’avoir plus de détails, utilisez les durées suivantes :
                    </p>
                    <ul class="list-disc list-inside bg-gray-50 p-4 rounded-lg border border-gray-200">
                        <li class="text-gray-700"><span class="font-semibold">Bois et Fleurs :</span> 4 heures</li>
                        <li class="text-gray-700"><span class="font-semibold">Minerais :</span> 1h dans le désert / 2h dans le reste de Verra (à vérifier)</li>
                    </ul>
                </div>
                <div class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-lg mt-4">
                    <div class="text-gray-700">
                        <h2 class="text-xl font-bold">LES INDICATEURS</h2>
                        <p class="my-4">Une fois cliqué sur le bouton "Ajouter", le point apparaît avec :</p>
                        <ul class="list-disc list-inside bg-gray-50 p-4 rounded-lg border border-gray-200">
                            <li>L'icône de la ressource</li>
                            <li>Un cercle en fond de la couleur de la rareté</li>
                            <li>Un liseré blanc autour</li>
                            <li>Une petite flèche au-dessus du cercle indiquant la position exacte</li>
                            <li>Un liseré rouge se remplit progressivement en fonction du temps sélectionné.</li>
                        </ul>
                    </div>
                    
                
                    <div class="bg-gray-700 p-4 rounded-md my-4">
                        <h2 class="text-lg font-semibold">Important !</h2>
                        <p>Lorsque le temps de repop est à <span class="text-red-500 font-bold">moins de 15 minutes</span>, le liseré rouge clignote 
                        <p>il est temps de se rendre sur place pour récupérer la ressource.</p>
                        <p>Si le temps est dépassé, le liseré rouge sera rempli et fixe. Cependant, il faudra vérifier sur place si la ressource est toujours disponible.</p>
                    </div>
                
                    <div class="text-gray-700">
                        <h2 class="text-xl font-bold my-4">COMMENT RÉINITIALISER LE TIMER</h2>
                        <ul class="list-disc list-inside bg-gray-50 p-4 rounded-lg border border-gray-200">
                            <li>Clic gauche sur l’icône</li>
                            <li>Cochez "Click to reset timer"</li>
                            <li>Cliquez sur "Update"</li>
                        </ul>
                    </div>
                </div>
                
                <div class="max-w-2xl mx-auto bg-white p-6 rounded-lg shadow-lg mt-4 text-gray-700">
                    <h2 class="text-xl font-bold">UTILISER LES FILTRES</h2>
                    <p class="my-4">Les filtres sont disponibles à gauche de la map, vous pouvez effectuer vos propres recherches selon les critères suivants</p>
                    <ul class="list-disc list-inside bg-gray-50 p-4 rounded-lg border border-gray-200">
                        <li><span class="font-bold">Rareté</span></li>
                        <li><span class="font-bold">Ressource</span></li>
                        <li><span class="font-bold">Catégorie de ressource</span> (ex: Bois, Métal, Plante... pour sélectionner toutes les ressources d'une catégorie)</li>
                    </ul>
                    <p class="mt-4">Vous pouvez également combiner ces critères. Par exemple : rechercher tous les bois d'une rareté minimale "Héroïque".</p>
                </div>                
            </div>
        </p-sidebar>
    </div>
}